# 📢 개요

<aside>
  
🏁**목표: RDB(MySQL) 데이터 모델링, JWT, Express Middleware를 이용한 인증 로직 추가**

</aside>

1. **API 명세서를 작성**하여, ****최종적 결과물을 미리 파악합니다.
2. **MySQL, Prisma를** 이용해 데이터베이스를 설계하고 활용합니다.
    - 데이터 모델링을 통해 **ERD 작성**
    - **Prisma**를 이용한 **마이그레이션 코드 및 스키마 코드 작성**
    - **JOIN**을 통해 다른 Table의 데이터와 결합
3. **인증 관련 기능을 구현**합니다.
    - **JWT**(AccessToken)의 이해
    - 회원가입 API, 로그인 API, 내 정보 조회 API, 인증 **Middleware** 구현
    - 상품 관련 기능에 인증 로직 추가
  
<aside>

  🛠 **기술 스택**

</aside>

1. **웹 프레임워크**
Node.js의 대표적인 웹 프레임워크인 **Express**를 이용합니다.
2. **패키지 매니저
npm** 또는 **yarn** 중 편한것을 이용합니다.
    - 🚨 **주의사항**
        - 둘 중 어떤 것을 사용해도 좋지만, 혼용해서 사용하면 안됩니다.
        - `package-lock.json`, `yarn.lock`이 동시에 있으면 안됩니다. (의도와 다른 동작을 일으킬 수 있습니다.)
3. **모듈 시스템**
기본 모듈 시스템(**CommonJS, type: "commonjs"**) 또는 
ES6 부터 도입 된 모듈 시스템(**ESModule, type: "module"**)을 이용합니다.
    - 🚨 **주의사항**
        - 둘 중 어떤 것을 사용해도 좋지만, 혼용해서 사용하면 안됩니다.
        - `require/exports`와 `import/export`가 동시에 있으면 안됩니다.
4. **데이터베이스**
숙련 주차 강의 후반에서 다룬 **MySQL**을 사용합니다. 
직접 설치하지 않고, Cloud 서비스인 **AWS RDS**를 이용합니다.
5. **ORM(Object Relational Mapping)
MySQL**의 데이터를 쉽게 읽고 쓰게 해주는 **[Prisma](https://www.prisma.io/)를 사용합니다.**



# 환경변수
- DATABASE_URL
- TOKEN_SECRET_KEY

# API 명세서 URL
- https://www.notion.so/32b4ffbe765d40378bb236b50e26b435?v=468c3b22518448c68f1e215589e2ba7e&pvs=4

# ERD URL
- https://www.erdcloud.com/d/RGJKnRJgrCLsiG8XT

# 더 고민해 보기
1. **암호화 방식**
    - 비밀번호를 DB에 저장할 때 Hash를 이용했는데, Hash는 단방향 암호화와 양방향 암호화 중 어떤 암호화 방식에 해당할까요?
 
    => 단방향입니다.
    - 비밀번호를 그냥 저장하지 않고 Hash 한 값을 저장 했을 때의 좋은 점은 무엇인가요?
 
    => 보안이 강력해집니다.

2. **인증 방식**
    - JWT(Json Web Token)을 이용해 인증 기능을 했는데, 만약 Access Token이 노출되었을 경우 발생할 수 있는 문제점은 무엇일까요?

    => 해킹을 당해서, 결제정보나 개인정보등 피해를 입을 수 있습니다.
    - 해당 문제점을 보완하기 위한 방법으로는 어떤 것이 있을까요?

    => 세션을 사용하는 방법도 있습니다.

3. **인증과 인가**
    - 인증과 인가가 무엇인지 각각 설명해 주세요.

    => 인증은 로그인, 인가는 API마다 로그인한 사용자만 접근할 수 있게 한 것. 사용자 인증 미들웨어로 구현하였습니다.
    - 과제에서 구현한 Middleware는 인증에 해당하나요? 인가에 해당하나요? 그 이유도 알려주세요.

    => 인가입니다. 그걸 이용해서 로그인을 한 사용자인지 검사할 수 있었습니다.

4. **Http Status Code**
    - 과제를 진행하면서 사용한 Http Status Code를 모두 나열하고, 각각이 의미하는 것과 어떤 상황에 사용했는지 작성해 주세요.

    => POST(회원가입, 로그인, 이력서 작성), GET(내 정보 조회, 모든 이력서 목록 조회, 이력서 상세조회), PATCH(이력서 수정), DELETE(이력서 삭제) 

5. **리팩토링**
    - MySQL, Prisma로 개발했는데 MySQL을 MongoDB로 혹은 Prisma 를 TypeORM 로 변경하게 된다면 많은 코드 변경이 필요할까요? 주로 어떤 코드에서 변경이 필요한가요?

    => 아마 스키마의 형식을 많이 바꿔야할 것 같습니다.
		- 만약 이렇게 DB를 변경하는 경우가 또 발생했을 때, 코드 변경을 보다 쉽게 하려면 어떻게 코드를 작성하면 좋을 지 생각나는 방식이 있나요? 있다면 작성해 주세요.

    => API명세서나 ERD를 꼼꼼히 써놓는 게 좋을 것 같습니다.

6. **API 명세서**
    - notion 혹은 엑셀에 작성하여 전달하는 것 보다 swagger 를 통해 전달하면 장점은 무엇일까요?

    => 프론트엔드와 협업이 수월해집니다. 
